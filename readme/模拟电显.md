### **模拟电显**

`模拟电显`（以下简称`电显`）指的是`主控`最上方的屏幕。默认情况下，它包含`左侧电显` `路线名称` `右侧电显`
三部分。

如果您没有修改设置，会看到`电显`会按顺序显示首末站、当前到站、下一站、宣传语、速度等内容。

与`语音播报`一样，`电显`的内容也是根据格式来显示的，但不同的是，一次播报只参考一段文本，而电显是轮流展示的，每次显示的文本可能都不一样。

#### 模拟电显的显示格式

先来看看下面的显示格式。

`<sscn>|<tscn>|5|B`

`<nscn>|到了|5|A`

`终点站<nscn>|到了|5|AT`

`<nscn>|就要到了|5|W`

`下一站|<nscn>|5|N`

`全国文明城市 桂林欢迎您|攻坚十四五 奋进新征程 建设壮美广西|5|D`

`速度|<speed>|5|R`

格式中的每一行都代表一段显示内容，`电显`会从上往下依次显示每一段的内容。

每一段由`左侧电显内容` `右侧电显内容` `最短显示时间` `类型`四部分组成，各个部分由竖线`|`分割开来。

例如第一段的格式是`<sscn>|<tscn>|5|B`

`左侧电显内容`和`右侧电显内容`与`播报格式`一样，也包含`普通语句`和`占位符`
（详见[播报格式](readme/语音播报.md#announcer的播报格式)）。
像第一段就表示`左侧电显`会显示`起点站中文名`，而`右侧电显`会显示`终点站中文名`。

`最短显示时间`会考虑两种情况。

1. 如果电显两侧的文字长度都不足以超出屏幕，那么`电显`在显示`最短显示时间`后，就会切换到下一段内容。

2. 如果有任意一侧的文字长度超出了屏幕，则`电显`会等待两侧的文字都滚动展示完毕后，再切换到下一代内容。

`类型` 表示该段内容在什么情况下才会显示，或是一些其他特殊属性。

其中，`N` `W` `A` `S` `T` `C` 这六个类型的含义参见下表。

| 类型  | 含义                               |
|-----|----------------------------------|
| `N` | 当前站点状态为`下一站`时显示                  |
| `W` | 当前站点状态为`即将到达`时显示                 |
| `A` | 当前站点状态为`到达`时显示                   |
| `S` | 当前站点为`起点站`时显示                    |
| `T` | 当前站点为`终点站`时显示                    |
| `C` | 当前站点为`其他站`时显示（即不是`起点站`也不是`终点站`时） |

注意：`N` `W` `A`之间是互斥的，即如果要使用，只能选择其一。
一段内容的类型中不能同时使用它们。

同样的，`S` `T` `C`之间也是互斥的。

此外，还有`D` `B` `R`三个类型。不带其他类型时，它们会始终显示。其含义参见下表。

| 类型  | 含义                                              |
|-----|-------------------------------------------------|
| `D` | 代表普通内容。无特殊作用                                    |
| `B` | 代表首末站内容。当您切换路线时，会优先显示它                          |
| `R` | 实时刷新内容。该文本每隔1秒刷新一次，在显示`<speed>` `<time>`等内容时很有用 |

类型是可以组合使用的，如第三段`终点站<nscn>|到了|5|AT`的类型`A`和`T`组合起来就表示当前站点为`终点站`且`到达`时才会显示。

